# 操作系统

## 第二课

### Notes

#### Semaphore

### 上机

#### 实验要求

1. 假定进程控制块中包含内容为：

| pcb    |
|--------|
| 进程名    |
| 进程状态   |
| 进程优先级  |
| 估计运行时间 |
| 链接指针   |

- 其中进程名即进程标示符：进程的优先数由用户自己指定，并且优先数值越小，优先级越高，调度时总是选择优先级高的进程占用CPU；
  估计运行时间可由设计者任意指定一个时间值。

2. 模拟创建一个就绪队列（有序，无序）。
3. 模拟实现进程的撤销，进程的阻塞，进程的唤醒。
4. 要求所设计的程序必须有输出语句，用于输出运行一次后进程队列的变化。比如每次选中的进程名，就绪队列中进程的排队情况，进程控制块的动态变化。

#### 思考

1. 设计一个先来先服务的进程调度。
2. 设计一个优先级高者进程调度（非抢占式）。

#### 实验

- 编译
```shell
xmake build
```

- 检查内存泄漏

```shell
valgrind --leak-check=full ./bin/class3 -- show-leak-kinds=all
```

- 运行
```shell
xmake run
```
